表包含的字段数量
SELECT 
TABLE_SCHEMA+'.'+TABLE_NAME,ORDINAL_POSITION 数据表字段数量
,COLUMN_NAME
,case WHEN CHARACTER_MAXIMUM_LENGTH IS NULL then DATA_TYPE
ELSE DATA_TYPE+'('+CONVERT(VARCHAR(20),CHARACTER_MAXIMUM_LENGTH)+')' END datatype
 FROM [INFORMATION_SCHEMA].[COLUMNS]
 WHERE PATINDEX('%[0-9]%',TABLE_NAME)=0
 ORDER BY TABLE_NAME, ORDINAL_POSITION DESC
 
 表名中含有数字的
 SELECT 
MAX(TABLE_SCHEMA)+'.'+TABLE_NAME
 FROM [INFORMATION_SCHEMA].[COLUMNS]
 WHERE ( PATINDEX('%[0-9]%',TABLE_NAME)<>0)
 GROUP BY TABLE_NAME 
 
 查找存储过程定义语句
 SELECT * FROM
[sys].[all_sql_modules] WHERE definition NOT LIKE '%sys%'
